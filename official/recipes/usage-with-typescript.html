<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>usage-with-typescript</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p><a href="#main" class="skipToContent_1oUP">Skip to main content</a></p>
<p>Menu</p>
<p><a href="../index.html" class="navbar__brand"><img src="../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo" /><img src="../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo" /><strong>Redux</strong></a></p>
<p><a href="../introduction/getting-started.html" class="navbar__item navbar__link">Getting Started</a><a href="../tutorials/essentials/part-1-overview-concepts.html" class="navbar__item navbar__link">Tutorial</a><a href="../api/api-reference.html" class="navbar__item navbar__link">API</a><a href="../faq.html" class="navbar__item navbar__link">FAQ</a><a href="../style-guide/style-guide.html" class="navbar__item navbar__link">Best Practices</a><a href="../../github.com/reduxjs/redux.html" class="navbar__item navbar__link">GitHub</a><a href="../introduction/getting-started.html#help-and-discussion" class="navbar__item navbar__link">Need help?</a> <a href="../index.html" class="navbar__brand"><img src="../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo" /><img src="../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo" /><strong>Redux</strong></a></p>
<ul>
<li><a href="../introduction/getting-started.html" class="menu__link">Getting Started</a></li>
<li><a href="../tutorials/essentials/part-1-overview-concepts.html" class="menu__link">Tutorial</a></li>
<li><a href="../api/api-reference.html" class="menu__link">API</a></li>
<li><a href="../faq.html" class="menu__link">FAQ</a></li>
<li><a href="../style-guide/style-guide.html" class="menu__link">Best Practices</a></li>
<li><a href="../../github.com/reduxjs/redux.html" class="menu__link">GitHub</a></li>
<li><a href="../introduction/getting-started.html#help-and-discussion" class="menu__link">Need help?</a></li>
</ul>
<p>Menu</p>
<ul>
<li><a href="#!" class="menu__link menu__link--sublist">Introduction</a>
<ul>
<li><a href="../introduction/getting-started.html" class="menu__link">Getting Started with Redux</a></li>
<li><a href="../introduction/installation.html" class="menu__link">Installation</a></li>
<li><a href="../introduction/core-concepts.html" class="menu__link">Core Concepts</a></li>
<li><a href="../introduction/learning-resources.html" class="menu__link">Learning Resources</a></li>
<li><a href="../introduction/ecosystem.html" class="menu__link">Ecosystem</a></li>
<li><a href="../introduction/examples.html" class="menu__link">Examples</a></li>
</ul></li>
<li><p><a href="#!" class="menu__link menu__link--sublist">Tutorials</a></p>
<ul>
<li><a href="../tutorials/index.html" class="menu__link">Tutorials Index</a></li>
<li><a href="../tutorials/quick-start.html" class="menu__link">Quick Start</a></li>
<li><a href="../tutorials/typescript-quick-start.html" class="menu__link">TypeScript Quick Start</a></li>
<li><p><a href="#!" class="menu__link menu__link--sublist">Redux Essentials</a></p>
<ul>
<li><a href="../tutorials/essentials/part-1-overview-concepts.html" class="menu__link">Redux Overview and Concepts</a></li>
<li><a href="../tutorials/essentials/part-2-app-structure.html" class="menu__link">Redux App Structure</a></li>
<li><a href="../tutorials/essentials/part-3-data-flow.html" class="menu__link">Basic Redux Data Flow</a></li>
<li><a href="../tutorials/essentials/part-4-using-data.html" class="menu__link">Using Redux Data</a></li>
<li><a href="../tutorials/essentials/part-5-async-logic.html" class="menu__link">Async Logic and Data Fetching</a></li>
<li><p><a href="../tutorials/essentials/part-6-performance-normalization.html" class="menu__link">Performance and Normalizing Data</a></p></li>
<li><a href="../tutorials/fundamentals/part-1-overview.html" class="menu__link">Redux Overview</a></li>
<li><a href="../tutorials/fundamentals/part-2-concepts-data-flow.html" class="menu__link">Redux Concepts and Data Flow</a></li>
<li><a href="../tutorials/fundamentals/part-3-state-actions-reducers.html" class="menu__link">State, Actions, and Reducers</a></li>
<li><a href="../tutorials/fundamentals/part-4-store.html" class="menu__link">Store</a></li>
<li><a href="../tutorials/fundamentals/part-5-ui-react.html" class="menu__link">UI and React</a></li>
<li><a href="../tutorials/fundamentals/part-6-async-logic.html" class="menu__link">Async Logic and Data Fetching</a></li>
<li><a href="../tutorials/fundamentals/part-7-standard-patterns.html" class="menu__link">Standard Redux Patterns</a></li>
<li><p><a href="../tutorials/fundamentals/part-8-modern-redux.html" class="menu__link">Modern Redux with Redux Toolkit</a></p></li>
</ul></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist menu__link--active">Recipes</a>
<ul>
<li><a href="recipe-index.html" class="menu__link">Recipes: Index</a></li>
<li><a href="configuring-your-store.html" class="menu__link">Configuring Your Store</a></li>
<li><a href="usage-with-typescript.html" class="menu__link menu__link--active active">Usage With TypeScript</a></li>
<li><a href="migrating-to-redux.html" class="menu__link">Migrating to Redux</a></li>
<li><a href="using-object-spread-operator.html" class="menu__link">Using Object Spread Operator</a></li>
<li><a href="reducing-boilerplate.html" class="menu__link">Reducing Boilerplate</a></li>
<li><a href="server-rendering.html" class="menu__link">Server Rendering</a></li>
<li><a href="writing-tests.html" class="menu__link">Writing Tests</a></li>
<li><a href="computing-derived-data.html" class="menu__link">Computing Derived Data</a></li>
<li><a href="implementing-undo-history.html" class="menu__link">Implementing Undo History</a></li>
<li><a href="isolating-redux-sub-apps.html" class="menu__link">Isolating Redux Sub-Apps</a></li>
<li><a href="code-splitting.html" class="menu__link">Code Splitting</a></li>
<li><a href="troubleshooting.html" class="menu__link">Troubleshooting</a></li>
<li><a href="#!" class="menu__link menu__link--sublist">Structuring Reducers</a>
<ul>
<li><a href="structuring-reducers/structuring-reducers.html" class="menu__link">Structuring Reducers</a></li>
<li><a href="structuring-reducers/prerequisite-concepts.html" class="menu__link">Prerequisite Concepts</a></li>
<li><a href="structuring-reducers/basic-reducer-structure.html" class="menu__link">Basic Reducer Structure</a></li>
<li><a href="structuring-reducers/splitting-reducer-logic.html" class="menu__link">Splitting Reducer Logic</a></li>
<li><a href="structuring-reducers/refactoring-reducer-example.html" class="menu__link">Refactoring Reducers Example</a></li>
<li><a href="structuring-reducers/using-combinereducers.html" class="menu__link">Using combineReducers</a></li>
<li><a href="structuring-reducers/beyond-combinereducers.html" class="menu__link">Beyond combineReducers</a></li>
<li><a href="structuring-reducers/normalizing-state-shape.html" class="menu__link">Normalizing State Shape</a></li>
<li><a href="structuring-reducers/updating-normalized-data.html" class="menu__link">Updating Normalized Data</a></li>
<li><a href="structuring-reducers/reusing-reducer-logic.html" class="menu__link">Reusing Reducer Logic</a></li>
<li><a href="structuring-reducers/immutable-update-patterns.html" class="menu__link">Immutable Update Patterns</a></li>
<li><a href="structuring-reducers/initializing-state.html" class="menu__link">Initializing State</a></li>
</ul></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">Understanding Redux</a>
<ul>
<li><a href="#!" class="menu__link menu__link--sublist">Thinking in Redux</a>
<ul>
<li><a href="../understanding/thinking-in-redux/motivation.html" class="menu__link">Motivation</a></li>
<li><a href="../understanding/thinking-in-redux/three-principles.html" class="menu__link">Three Principles</a></li>
<li><a href="../understanding/thinking-in-redux/glossary.html" class="menu__link">Glossary</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">History and Design</a>
<ul>
<li><a href="../understanding/history-and-design/prior-art.html" class="menu__link">Prior Art</a></li>
<li><a href="../understanding/history-and-design/middleware.html" class="menu__link">Middleware</a></li>
</ul></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">FAQ</a>
<ul>
<li><a href="../faq.html" class="menu__link">FAQ Index</a></li>
<li><a href="../faq/general.html" class="menu__link">General</a></li>
<li><a href="../faq/reducers.html" class="menu__link">Reducers</a></li>
<li><a href="../faq/organizing-state.html" class="menu__link">Organizing State</a></li>
<li><a href="../faq/store-setup.html" class="menu__link">Store Setup</a></li>
<li><a href="../faq/actions.html" class="menu__link">Actions</a></li>
<li><a href="../faq/immutable-data.html" class="menu__link">Immutable Data</a></li>
<li><a href="../faq/code-structure.html" class="menu__link">Code Structure</a></li>
<li><a href="../faq/performance.html" class="menu__link">Performance</a></li>
<li><a href="../faq/design-decisions.html" class="menu__link">Design Decisions</a></li>
<li><a href="../faq/react-redux.html" class="menu__link">React Redux</a></li>
<li><a href="../faq/miscellaneous.html" class="menu__link">Miscellaneous</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">Style Guide</a>
<ul>
<li><a href="../style-guide/style-guide.html" class="menu__link">Style Guide: Best Practices</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">API Reference</a>
<ul>
<li><a href="../api/api-reference.html" class="menu__link">API Reference</a></li>
<li><a href="../api/createstore.html" class="menu__link">createStore</a></li>
<li><a href="../api/store.html" class="menu__link">Store</a></li>
<li><a href="../api/combinereducers.html" class="menu__link">combineReducers</a></li>
<li><a href="../api/applymiddleware.html" class="menu__link">applyMiddleware</a></li>
<li><a href="../api/bindactioncreators.html" class="menu__link">bindActionCreators</a></li>
<li><a href="../api/compose.html" class="menu__link">compose</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">Redux Toolkit</a>
<ul>
<li><a href="../redux-toolkit/overview.html" class="menu__link">Redux Toolkit: Overview</a></li>
</ul></li>
</ul>
<h1 id="usage-with-typescript"><span id="usage-with-typescript" class="anchor enhancedAnchor_2LWZ"></span>Usage with TypeScript<a href="#usage-with-typescript" class="hash-link" title="Direct link to heading">#</a></h1>
<h5 id="what-youll-learn"><span class="admonition-icon"> </span>What You’ll Learn</h5>
<ul>
<li>Standard patterns for setting up a Redux app with TypeScript</li>
<li>Techniques for correctly typing portions of Redux logic</li>
</ul>
<h5 id="prerequisites"><span class="admonition-icon"> </span>Prerequisites</h5>
<ul>
<li>Understanding of <a href="../../www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">TypeScript syntax and terms</a></li>
<li>Familiarity with TypeScript concepts like <a href="../../www.typescriptlang.org/docs/handbook/2/generics.html">generics</a> and <a href="../../www.typescriptlang.org/docs/handbook/utility-types.html">utility types</a></li>
<li>Knowledge of <a href="../../reactjs.org/docs/hooks-intro.html">React Hooks</a></li>
</ul>
<h2 id="overview"><span id="overview" class="anchor enhancedAnchor_2LWZ"></span>Overview<a href="#overview" class="hash-link" title="Direct link to heading">#</a></h2>
<p><strong>TypeScript</strong> is a typed superset of JavaScript that provides compile-time checking of source code. When used with Redux, TypeScript can help provide:</p>
<ol type="1">
<li>Type safety for reducers, state and action creators, and UI components</li>
<li>Easy refactoring of typed code</li>
<li>A superior developer experience in a team environment</li>
</ol>
<p><a href="../style-guide/style-guide.html#use-static-typing"><strong>We strongly recommend using TypeScript in Redux applications</strong></a>. However, like all tools, TypeScript has tradeoffs. It adds complexity in terms of writing additional code, understanding TS syntax, and building the application. At the same time, it provides value by catching errors earlier in development, enabling safer and more efficient refactoring, and acting as documentation for existing source code.</p>
<p>We believe that <strong><a href="../../blog.isquaredsoftware.com/2019/11/blogged-answers-learning-and-using-typescript/index.html#pragmatism-is-vital">pragmatic use of TypeScript</a> provides more than enough value and benefit to justify the added overhead</strong>, especially in larger codebases, but you should take time to <strong>evaluate the tradeoffs and decide whether it’s worth using TS in your own application</strong>.</p>
<p>There are multiple possible approaches to type checking Redux code. <strong>This page shows our standard recommended patterns for using Redux and TypeScript together</strong>, and is not an exhaustive guide. Following these patterns should result in a good TS usage experience, with <strong>the best tradeoffs between type safety and amount of type declarations you have to add to your codebase</strong>.</p>
<h2 id="standard-redux-toolkit-project-setup-with-typescript"><span id="standard-redux-toolkit-project-setup-with-typescript" class="anchor enhancedAnchor_2LWZ"></span>Standard Redux Toolkit Project Setup with TypeScript<a href="#standard-redux-toolkit-project-setup-with-typescript" class="hash-link" title="Direct link to heading">#</a></h2>
<p>We assume that a typical Redux project is using Redux Toolkit and React Redux together.</p>
<p><a href="../../redux-toolkit.js.org/index.html">Redux Toolkit</a> (RTK) is the standard approach for writing modern Redux logic. RTK is already written in TypeScript, and its API is designed to provide a good experience for TypeScript usage.</p>
<p><a href="../../react-redux.js.org/index.html">React Redux</a> has its type definitions in a separate <a href="../../www.npmjs.com/package/%40types/react-redux.html"><code>@types/react-redux</code> typedefs package</a> on NPM. In addition to typing the library functions, the types also export some helpers to make it easier to write typesafe interfaces between your Redux store and your React components.</p>
<p>As of React Redux v7.2.3, the <code>react-redux</code> package has a dependency on <code>@types/react-redux</code>, so the type definitions will be automatically installed with the library. Otherwise, you’ll need to manually install them yourself (typically <code>npm install @types/react-redux</code> ).</p>
<p>The <a href="../../github.com/reduxjs/cra-template-redux-typescript.html">Redux+TS template for Create-React-App</a> comes with a working example of these patterns already configured.</p>
<h3 id="define-root-state-and-dispatch-types"><span id="define-root-state-and-dispatch-types" class="anchor enhancedAnchor_2LWZ"></span>Define Root State and Dispatch Types<a href="#define-root-state-and-dispatch-types" class="hash-link" title="Direct link to heading">#</a></h3>
<p>Using <a href="../../redux-toolkit.js.org/api/configureStore.html">configureStore</a> should not need any additional typings. You will, however, want to extract the <code>RootState</code> type and the <code>Dispatch</code> type so that they can be referenced as needed. Inferring these types from the store itself means that they correctly update as you add more state slices or modify middleware settings.</p>
<p>Since those are types, it’s safe to export them directly from your store setup file such as <code>app/store.ts</code> and import them directly into other files.</p>
<p>app/store.ts</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> configureStore </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘<span class="citation" data-cites="reduxjs/toolkit">@reduxjs/toolkit</span>’</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// …</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> store </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">configureStore</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> reducer</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> posts</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> postsReducer</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> comments</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> commentsReducer</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> users</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> usersReducer</span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// Infer the `RootState` and `AppDispatch` types from the store itself</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">RootState</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token maybe-class-name">ReturnType</span><span class="token operator" style="color: #000000">&lt;</span><span class="token keyword" style="color: #f92672">typeof</span><span class="token plain"> store</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">getState</span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">AppDispatch</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">typeof</span><span class="token plain"> store</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">dispatch</span>### <span id="define-typed-hooks" class="anchor enhancedAnchor_2LWZ"></span>Define Typed Hooks<a href="#define-typed-hooks" class="hash-link" title="Direct link to heading">#</a></p>
<p>While it’s possible to import the <code>RootState</code> and <code>AppDispatch</code> types into each component, it’s better to <strong>create pre-typed versions of the <code>useDispatch</code> and <code>useSelector</code> hooks for usage in your application</strong>. This is important for a couple reasons:</p>
<ul>
<li>For <code>useSelector</code>, it saves you the need to type <code>(state: RootState)</code> every time</li>
<li>For <code>useDispatch</code>, the default <code>Dispatch</code> type does not know about thunks or other middleware. In order to correctly dispatch thunks, you need to use the specific customized <code>AppDispatch</code> type from the store that includes the thunk middleware types, and use that with <code>useDispatch</code>. Adding a pre-typed <code>useDispatch</code> hook keeps you from forgetting to import <code>AppDispatch</code> where it’s needed.</li>
</ul>
<p>Since these are actual variables, not types, it’s important to define them in a separate file such as <code>app/hooks.ts</code>, not the store setup file. This allows you to import them into any component file that needs to use the hooks, and avoids potential circular import dependency issues.</p>
<p>app/hooks.ts</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">TypedUseSelectorHook</span><span class="token imports punctuation" style="color: #000000">,</span><span> useDispatch</span><span class="token imports punctuation" style="color: #000000">,</span><span> useSelector </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘react-redux’</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token maybe-class-name">AppDispatch</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘./store’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// Use throughout your app instead of plain `useDispatch` and `useSelector`</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">useAppDispatch</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token generic-function function" style="color: #e6d874">useDispatch</span><span class="token generic-function generic class-name operator" style="color: #000000">&lt;</span><span class="token generic-function generic class-name maybe-class-name">AppDispatch</span><span class="token generic-function generic class-name operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> useAppSelector</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">TypedUseSelectorHook</span><span class="token operator" style="color: #000000">&lt;</span><span class="token maybe-class-name">RootState</span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> useSelector</span>## <span id="application-usage" class="anchor enhancedAnchor_2LWZ"></span>Application Usage<a href="#application-usage" class="hash-link" title="Direct link to heading">#</a></p>
<h3 id="define-slice-state-and-action-types"><span id="define-slice-state-and-action-types" class="anchor enhancedAnchor_2LWZ"></span>Define Slice State and Action Types<a href="#define-slice-state-and-action-types" class="hash-link" title="Direct link to heading">#</a></h3>
<p>Each slice file should define a type for its initial state value, so that <code>createSlice</code> can correctly infer the type of <code>state</code> in each case reducer.</p>
<p>All generated actions should be defined using the <code>PayloadAction&lt;T&gt;</code> type from Redux Toolkit, which takes the type of the <code>action.payload</code> field as its generic argument.</p>
<p>You can safely import the <code>RootState</code> type from the store file here. It’s a circular import, but the TypeScript compiler can correctly handle that for types. This may be needed for use cases like writing selector functions.</p>
<p>features/counter/counterSlice.ts</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> createSlice</span><span class="token imports punctuation" style="color: #000000">,</span><span> </span><span class="token imports maybe-class-name">PayloadAction</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘<span class="citation" data-cites="reduxjs/toolkit">@reduxjs/toolkit</span>’</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘../../app/store’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// Define a type for the slice state</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">CounterState</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> value</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// Define the initial state using that type</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token class-name keyword" style="color: #f92672">const</span><span class="token plain"> initialState</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">CounterState</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> value</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">0</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> counterSlice </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">createSlice</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> name</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘counter’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// `createSlice` will infer the state type from the `initialState` argument</span><span class="token plain"></span></p>
<p><span class="token plain"> initialState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> reducers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">increment</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> state </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color: #000000">+=</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">1</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">decrement</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> state </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color: #000000">-=</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">1</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// Use the PayloadAction type to declare the contents of `action.payload`</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">incrementByAmount</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> action</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token operator" style="color: #000000">&lt;</span><span class="token builtin" style="color: #a6e22e">number</span><span class="token operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color: #000000">+=</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">payload</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> increment</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> decrement</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> incrementByAmount </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> counterSlice</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">actions</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// Other code such as selectors can use the imported `RootState` type</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token class-name keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">selectCount</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">counter</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">value</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">default</span><span class="token plain"> counterSlice</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">reducer</span>The generated action creators will be correctly typed to accept a <code>payload</code> argument based on the <code>PayloadAction&lt;T&gt;</code> type you provided for the reducer. For example, <code>incrementByAmount</code> requires a <code>number</code> as its argument.</p>
<p>In some cases, <a href="../../github.com/reduxjs/redux-toolkit/pull/827.html">TypeScript may unnecessarily tighten the type of the initial state</a>. If that happens, you can work around it by casting the initial state using <code>as</code>, instead of declaring the type of the variable:</p>
<p><span class="token comment" style="color: #c6cad2">// Workaround: cast state instead of declaring variable type</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> initialState </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> value</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">0</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">as</span><span class="token plain"> </span><span class="token maybe-class-name">CounterState</span>### <span id="use-typed-hooks-in-components" class="anchor enhancedAnchor_2LWZ"></span>Use Typed Hooks in Components<a href="#use-typed-hooks-in-components" class="hash-link" title="Direct link to heading">#</a></p>
<p>In component files, import the pre-typed hooks instead of the standard hooks from React Redux.</p>
<p>features/counter/Counter.tsx</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> useState </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘react’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> useAppSelector</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> useAppDispatch </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘app/hooks’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> decrement</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> increment </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘./counterSlice’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color: #e6d874">Counter</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// The `state` arg is correctly typed as `RootState` already</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> count </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">useAppSelector</span><span class="token punctuation" style="color: #000000">(</span><span class="token parameter">state</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token plain">counter</span><span class="token punctuation" style="color: #000000">.</span><span class="token plain">value</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> dispatch </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">useAppDispatch</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// omit rendering logic</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span>## <span id="typing-additional-redux-logic" class="anchor enhancedAnchor_2LWZ"></span>Typing Additional Redux Logic<a href="#typing-additional-redux-logic" class="hash-link" title="Direct link to heading">#</a></p>
<h3 id="type-checking-reducers"><span id="type-checking-reducers" class="anchor enhancedAnchor_2LWZ"></span>Type Checking Reducers<a href="#type-checking-reducers" class="hash-link" title="Direct link to heading">#</a></h3>
<p><a href="../tutorials/fundamentals/part-3-state-actions-reducers.html">Reducers</a> are pure functions that receive the current <code>state</code> and incoming <code>action</code> as arguments, and return a new state.</p>
<p>If you are using Redux Toolkit’s <code>createSlice</code>, you should rarely need to specifically type a reducer separately. If you do actually write a standalone reducer, it’s typically sufficient to declare the type of the <code>initialState</code> value, and type the <code>action</code> as <code>AnyAction</code>:</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">AnyAction</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘redux’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">CounterState</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> value</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> initialState</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">CounterState</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> value</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">0</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">default</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">function</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">counterReducer</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain"></span></p>
<p><span class="token plain"> state </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> initialState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> action</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">AnyAction</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// logic here</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span>However, the Redux core does export a <code>Reducer&lt;State, Action&gt;</code> type you can use as well.</p>
<h3 id="type-checking-middleware"><span id="type-checking-middleware" class="anchor enhancedAnchor_2LWZ"></span>Type Checking Middleware<a href="#type-checking-middleware" class="hash-link" title="Direct link to heading">#</a></h3>
<p><a href="../tutorials/fundamentals/part-4-store.html#middleware">Middleware</a> are an extension mechanism for the Redux store. Middleware are composed into a pipeline that wrap the store’s <code>dispatch</code> method, and have access to the store’s <code>dispatch</code> and <code>getState</code> methods.</p>
<p>The Redux core exports a <code>Middleware</code> type that can be used to correctly type a middleware function:</p>
<p><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Middleware</span><span class="token class-name operator" style="color: #000000">&lt;</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name maybe-class-name">DispatchExt</span><span class="token class-name"> </span><span class="token class-name operator" style="color: #000000">=</span><span class="token class-name"> </span><span class="token class-name punctuation" style="color: #000000">{</span><span class="token class-name punctuation" style="color: #000000">}</span><span class="token class-name punctuation" style="color: #000000">,</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// optional override return behavior of `dispatch`</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name constant" style="color: #f92672">S</span><span class="token class-name"> </span><span class="token class-name operator" style="color: #000000">=</span><span class="token class-name"> </span><span class="token class-name builtin" style="color: #a6e22e">any</span><span class="token class-name punctuation" style="color: #000000">,</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// type of the Redux store state</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name constant" style="color: #f92672">D</span><span class="token class-name"> </span><span class="token class-name keyword" style="color: #f92672">extends</span><span class="token class-name"> </span><span class="token class-name maybe-class-name">Dispatch</span><span class="token class-name"> </span><span class="token class-name operator" style="color: #000000">=</span><span class="token class-name"> </span><span class="token class-name maybe-class-name">Dispatch</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// type of the dispatch method</span><span class="token class-name"></span></p>
<p><span class="token class-name"></span><span class="token class-name operator" style="color: #000000">&gt;</span>A custom middleware should use the <code>Middleware</code> type, and pass the generic args for <code>S</code> (state) and <code>D</code> (dispatch) if needed:</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">Middleware</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘redux’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">RootState</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘../store’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> exampleMiddleware</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">Middleware</span><span class="token operator" style="color: #000000">&lt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// Most middleware do not modify the dispatch return value</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> storeApi </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> next </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> action </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> state </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> storeApi</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">getState</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// correctly typed as RootState</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span>The dispatch generic should likely only be needed if you are dispatching additional thunks within the middleware.</p>
<h3 id="type-checking-redux-thunks"><span id="type-checking-redux-thunks" class="anchor enhancedAnchor_2LWZ"></span>Type Checking Redux Thunks<a href="#type-checking-redux-thunks" class="hash-link" title="Direct link to heading">#</a></h3>
<p><a href="../../github.com/reduxjs/redux-thunk.html">Redux Thunk</a> is the standard middleware for writing sync and async logic that interacts with the Redux store. A thunk function receives <code>dispatch</code> and <code>getState</code> as its parameters. Redux Thunk has a built in <code>ThunkAction</code> type which we can use to define types for those arguments:</p>
<p><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ThunkAction</span><span class="token class-name operator" style="color: #000000">&lt;</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name constant" style="color: #f92672">R</span><span class="token class-name punctuation" style="color: #000000">,</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// Return type of the thunk function</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name constant" style="color: #f92672">S</span><span class="token class-name punctuation" style="color: #000000">,</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// state type used by getState</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name constant" style="color: #f92672">E</span><span class="token class-name punctuation" style="color: #000000">,</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// any “extra argument” injected into the thunk</span><span class="token class-name"></span></p>
<p><span class="token class-name"> </span><span class="token class-name constant" style="color: #f92672">A</span><span class="token class-name"> </span><span class="token class-name keyword" style="color: #f92672">extends</span><span class="token class-name"> </span><span class="token class-name maybe-class-name">Action</span><span class="token class-name"> </span><span class="token class-name comment" style="color: #c6cad2">// known types of actions that can be dispatched</span><span class="token class-name"></span></p>
<p><span class="token class-name"></span><span class="token class-name operator" style="color: #000000">&gt;</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">dispatch</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">ThunkDispatch</span><span class="token operator" style="color: #000000">&lt;</span><span class="token constant" style="color: #f92672">S</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token constant" style="color: #f92672">E</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token constant" style="color: #f92672">A</span><span class="token operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">getState</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color: #f92672">S</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> extraArgument</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token constant" style="color: #f92672">E</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color: #f92672">R</span>You will typically want to provide the <code>R</code> (return type) and <code>S</code> (state) generic arguments. Unfortunately, TS does not allow only providing <em>some</em> generic arguments, so the usual values for the other arguments are <code>unknown</code> for <code>E</code> and <code>AnyAction</code> for <code>A</code>:</p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">AnyAction</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘redux’</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> sendMessage </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘./store/chat/actions’</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">RootState</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘./store’</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color: #000000">{</span><span> </span><span class="token imports maybe-class-name">ThunkAction</span><span> </span><span class="token imports punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘redux-thunk’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> thunkSendMessage </span><span class="token operator" style="color: #000000">=</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">message</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">string</span><span class="token punctuation" style="color: #000000">)</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">ThunkAction</span><span class="token operator" style="color: #000000">&lt;</span><span class="token keyword" style="color: #f92672">void</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">unknown</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token maybe-class-name">AnyAction</span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">async</span><span class="token plain"> dispatch </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> asyncResp </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">await</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">exampleAPI</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function" style="color: #e6d874">dispatch</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function" style="color: #e6d874">sendMessage</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> message</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> user</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> asyncResp</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> timestamp</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">getTime</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">function</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">exampleAPI</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">resolve</span><span class="token punctuation" style="color: #000000">(</span><span class="token string" style="color: #a6e22e">‘Async Chat Bot’</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span>To reduce repetition, you might want to define a reusable <code>AppThunk</code> type once, in your store file, and then use that type whenever you write a thunk:</p>
<p><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">AppThunk</span><span class="token class-name operator" style="color: #000000">&lt;</span><span class="token class-name maybe-class-name">ReturnType</span><span class="token class-name"> </span><span class="token class-name operator" style="color: #000000">=</span><span class="token class-name"> </span><span class="token class-name keyword" style="color: #f92672">void</span><span class="token class-name operator" style="color: #000000">&gt;</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token maybe-class-name">ThunkAction</span><span class="token operator" style="color: #000000">&lt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">ReturnType</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">unknown</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">AnyAction</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token operator" style="color: #000000">&gt;</span>Note that this assumes that there is no meaningful return value from the thunk. If your thunk returns a promise and you want to <a href="../tutorials/essentials/part-5-async-logic.html#checking-thunk-results-in-components">use the returned promise after dispatching the thunk</a>, you’d want to use this as <code></code></p>
<h5 id="caution"><span class="admonition-icon"> </span>caution</h5>
<p>Don’t forget that <strong>the default <code>useDispatch</code> hook does not know about thunks</strong>, and so dispatching a thunk will cause a type error. Be sure to <a href="#define-root-state-and-dispatch-types">use an updated form of <code>Dispatch</code> in your components that recognizes thunks as an acceptable type to dispatch</a>.</p>
<h2 id="usage-with-react-redux"><span id="usage-with-react-redux" class="anchor enhancedAnchor_2LWZ"></span>Usage with React Redux<a href="#usage-with-react-redux" class="hash-link" title="Direct link to heading">#</a></h2>
<p>While <a href="../../react-redux.js.org/index.html">React Redux</a> is a separate library from Redux itself, it is commonly used with React.</p>
<p>For a complete guide on how to correctly use React Redux with TypeScript, see <strong><a href="../../react-redux.js.org/using-react-redux/usage-with-typescript.html">the “Static Typing” page in the React Redux docs</a></strong>. This section will highlight the standard patterns.</p>
<p>As mentioned above, React Redux doesn’t ship with its own type definitions. If you are using TypeScript you should install the <a href="../../www.npmjs.com/package/%40types/react-redux.html"><code>@types/react-redux</code> type definitions</a> from npm.</p>
<h3 id="typing-the-useselector-hook"><span id="typing-the-useselector-hook" class="anchor enhancedAnchor_2LWZ"></span>Typing the <code>useSelector</code> hook<a href="#typing-the-useselector-hook" class="hash-link" title="Direct link to heading">#</a></h3>
<p>Declare the type of the <code>state</code> parameter in the selector function, and the return type of <code>useSelector</code> will be inferred to match the return type of the selector:</p>
<p><span class="token keyword" style="color: #f92672">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">RootState</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> isOn</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">boolean</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// TS infers type: (state: RootState) =&gt; boolean</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">selectIsOn</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">isOn</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// TS infers `isOn` is boolean</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> isOn </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">useSelector</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">selectIsOn</span><span class="token punctuation" style="color: #000000">)</span>This can also be done inline as well:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> isOn </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">useSelector</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">isOn</span><span class="token punctuation" style="color: #000000">)</span>However, prefer creating a pre-typed <code>useSelector</code> hook with the correct type of <code>state</code> built-in instead.</p>
<h3 id="typing-the-usedispatch-hook"><span id="typing-the-usedispatch-hook" class="anchor enhancedAnchor_2LWZ"></span>Typing the <code>useDispatch</code> hook<a href="#typing-the-usedispatch-hook" class="hash-link" title="Direct link to heading">#</a></h3>
<p>By default, the return value of <code>useDispatch</code> is the standard <code>Dispatch</code> type defined by the Redux core types, so no declarations are needed:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> dispatch </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">useDispatch</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span>However, prefer creating a pre-typed <code>useAppDispatch</code> hook with the correct type of <code>Dispatch</code> built-in instead.</p>
<h3 id="typing-the-connect-higher-order-component"><span id="typing-the-connect-higher-order-component" class="anchor enhancedAnchor_2LWZ"></span>Typing the <code>connect</code> higher order component<a href="#typing-the-connect-higher-order-component" class="hash-link" title="Direct link to heading">#</a></h3>
<p>If you are still using <code>connect</code>, you should use the <code>ConnectedProps&lt;T&gt;</code> type exported by <code>@types/react-redux^7.1.2</code> to infer the types of the props from <code>connect</code> automatically. This requires splitting the <code></code></p>
<p><span class="token keyword" style="color: #f92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> connect</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectedProps</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">from</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘react-redux’</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">RootState</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> isOn</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">boolean</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">mapState</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token parameter">state</span><span class="token parameter operator" style="color: #000000">:</span><span class="token parameter"> RootState</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> isOn</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token plain">isOn</span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> mapDispatch </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">toggleOn</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">type</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘TOGGLE_IS_ON’</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> connector </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">connect</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">mapState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> mapDispatch</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// The inferred type will look like:</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// {isOn: boolean, toggleOn: () =&gt; void}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">PropsFromRedux</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectedProps</span><span class="token operator" style="color: #000000">&lt;</span><span class="token keyword" style="color: #f92672">typeof</span><span class="token plain"> connector</span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Props</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token maybe-class-name">PropsFromRedux</span><span class="token plain"> </span><span class="token operator" style="color: #000000">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> backgroundColor</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">string</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color: #e6d874">MyComponent</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token parameter">props</span><span class="token parameter operator" style="color: #000000">:</span><span class="token parameter"> Props</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token tag punctuation" style="color: #000000">&lt;</span><span class="token tag" style="color: #f92672">div</span><span class="token tag" style="color: #f92672"> </span><span class="token tag attr-name" style="color: #a6e22e">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color: #000000">=</span><span class="token tag script language-javascript punctuation" style="color: #000000">{</span><span class="token tag script language-javascript punctuation" style="color: #000000">{</span><span class="token tag script language-javascript" style="color: #f92672"> backgroundColor</span><span class="token tag script language-javascript operator" style="color: #000000">:</span><span class="token tag script language-javascript" style="color: #f92672"> props</span><span class="token tag script language-javascript punctuation" style="color: #000000">.</span><span class="token tag script language-javascript" style="color: #f92672">backgroundColor </span><span class="token tag script language-javascript punctuation" style="color: #000000">}</span><span class="token tag script language-javascript punctuation" style="color: #000000">}</span><span class="token tag punctuation" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token tag punctuation" style="color: #000000">&lt;</span><span class="token tag" style="color: #f92672">button</span><span class="token tag" style="color: #f92672"> </span><span class="token tag attr-name" style="color: #a6e22e">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color: #000000">=</span><span class="token tag script language-javascript punctuation" style="color: #000000">{</span><span class="token tag script language-javascript" style="color: #f92672">props</span><span class="token tag script language-javascript punctuation" style="color: #000000">.</span><span class="token tag script language-javascript" style="color: #f92672">toggleOn</span><span class="token tag script language-javascript punctuation" style="color: #000000">}</span><span class="token tag punctuation" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">Toggle</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">is</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain">props</span><span class="token punctuation" style="color: #000000">.</span><span class="token plain">isOn </span><span class="token operator" style="color: #000000">?</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘ON’</span><span class="token plain"> </span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘OFF’</span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token tag punctuation" style="color: #000000">&lt;/</span><span class="token tag" style="color: #f92672">button</span><span class="token tag punctuation" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token tag punctuation" style="color: #000000">&lt;/</span><span class="token tag" style="color: #f92672">div</span><span class="token tag punctuation" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">default</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">connector</span><span class="token punctuation" style="color: #000000">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation" style="color: #000000">)</span>## <span id="usage-with-redux-toolkit" class="anchor enhancedAnchor_2LWZ"></span>Usage with Redux Toolkit<a href="#usage-with-redux-toolkit" class="hash-link" title="Direct link to heading">#</a></p>
<p>The <a href="#standard-redux-toolkit-project-setup-with-typescript">Standard Redux Toolkit Project Setup with TypeScript</a> section already covered the normal usage patterns for <code>configureStore</code> and <code>createSlice</code>, and the <a href="../../redux-toolkit.js.org/usage/usage-with-typescript.html">Redux Toolkit “Usage with TypeScript” page</a> covers all of the RTK APIs in detail.</p>
<p>Here are some additional typing patterns you will commonly see when using RTK.</p>
<h3 id="typing-configurestore"><span id="typing-configurestore" class="anchor enhancedAnchor_2LWZ"></span>Typing <code>configureStore</code><a href="#typing-configurestore" class="hash-link" title="Direct link to heading">#</a></h3>
<p><code>configureStore</code> infers the type of the state value from the provided root reducer function, so no specific type declarations should be needed.</p>
<p>If you want to add additional middleware to the store, be sure to use the specialized <code>.concat()</code> and <code>.prepend()</code> methods included in the array returned by <code>getDefaultMiddleware()</code>, as those will correctly preserve the types of the middleware you’re adding. (Using plain JS array spreads often loses those types.)</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> store </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">configureStore</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> reducer</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> rootReducer</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">middleware</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> getDefaultMiddleware </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function" style="color: #e6d874">getDefaultMiddleware</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">prepend</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// correctly typed middlewares can just be used</span><span class="token plain"></span></p>
<p><span class="token plain"> additionalMiddleware</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// you can also type middlewares manually</span><span class="token plain"></span></p>
<p><span class="token plain"> untypedMiddleware </span><span class="token keyword" style="color: #f92672">as</span><span class="token plain"> </span><span class="token maybe-class-name">Middleware</span><span class="token operator" style="color: #000000">&lt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">action</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">Action</span><span class="token operator" style="color: #000000">&lt;</span><span class="token string" style="color: #a6e22e">‘specialAction’</span><span class="token operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// prepend and concat calls can be chained</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">concat</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">logger</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span>### <span id="matching-actions" class="anchor enhancedAnchor_2LWZ"></span>Matching Actions<a href="#matching-actions" class="hash-link" title="Direct link to heading">#</a></p>
<p>RTK-generated action creators have a <code>match</code> method that acts as a <a href="../../www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates">type predicate</a>. Calling <code>someActionCreator.match(action)</code> will do a string comparison against the <code>action.type</code> string, and if used as a condition, narrow the type of <code>action</code> down to be the correct TS type:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> increment </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token generic-function function" style="color: #e6d874">createAction</span><span class="token generic-function generic class-name operator" style="color: #000000">&lt;</span><span class="token generic-function generic class-name builtin" style="color: #a6e22e">number</span><span class="token generic-function generic class-name operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">(</span><span class="token string" style="color: #a6e22e">‘increment’</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">function</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">test</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">action</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">Action</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">if</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">increment</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">match</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">action</span><span class="token punctuation" style="color: #000000">)</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// action.payload inferred correctly here</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> num </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">5</span><span class="token plain"> </span><span class="token operator" style="color: #000000">+</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">payload</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span>This is particularly useful when checking for action types in Redux middleware, such as custom middleware, <code>redux-observable</code>, and RxJS’s <code>filter</code> method.</p>
<h3 id="typing-createslice"><span id="typing-createslice" class="anchor enhancedAnchor_2LWZ"></span>Typing <code>createSlice</code><a href="#typing-createslice" class="hash-link" title="Direct link to heading">#</a></h3>
<h4 id="defining-separate-case-reducers"><span id="defining-separate-case-reducers" class="anchor enhancedAnchor_2LWZ"></span>Defining Separate Case Reducers<a href="#defining-separate-case-reducers" class="hash-link" title="Direct link to heading">#</a></h4>
<p>If you have too many case reducers and defining them inline would be messy, or you want to reuse case reducers across slices, you can also define them outside the <code>createSlice</code> call and type them as <code>CaseReducer</code>:</p>
<p><span class="token keyword" style="color: #f92672">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">State</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> increment</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">CaseReducer</span><span class="token operator" style="color: #000000">&lt;</span><span class="token maybe-class-name">State</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token operator" style="color: #000000">&lt;</span><span class="token builtin" style="color: #a6e22e">number</span><span class="token operator" style="color: #000000">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> state </span><span class="token operator" style="color: #000000">+</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">payload</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token function" style="color: #e6d874">createSlice</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> name</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘test’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> initialState</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token number" style="color: #ae81ff">0</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> reducers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> increment</span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span>#### <span id="typing-extrareducers" class="anchor enhancedAnchor_2LWZ"></span>Typing <code>extraReducers</code><a href="#typing-extrareducers" class="hash-link" title="Direct link to heading">#</a></p>
<p>If you are adding an <code>extraReducers</code> field in <code>createSlice</code>, be sure to use the “builder callback” form, as the “plain object” form cannot infer action types correctly. Passing an RTK-generated action creator to <code>builder.addCase()</code> will correctly infer the type of the <code>action</code>:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> usersSlice </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">createSlice</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> name</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘users’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> initialState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> reducers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// fill in primary logic here</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">extraReducers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> builder </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> builder</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">addCase</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">fetchUserById</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">pending</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// both `state` and `action` are now correctly typed</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// based on the slice state and the `pending` action creator</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span>#### <span id="typing-prepare-callbacks" class="anchor enhancedAnchor_2LWZ"></span>Typing <code>prepare</code> Callbacks<a href="#typing-prepare-callbacks" class="hash-link" title="Direct link to heading">#</a></p>
<p>If you want to add a <code>meta</code> or <code>error</code> property to your action, or customize the <code>payload</code> of your action, you have to use the <code>prepare</code> notation for defining the case reducer. Using this notation with TypeScript looks like:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> blogSlice </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">createSlice</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> name</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘blogData’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> initialState</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> reducers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> receivedAll</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function" style="color: #e6d874">reducer</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain"></span></p>
<p><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> action</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token operator" style="color: #000000">&lt;</span><span class="token maybe-class-name">Page</span><span class="token punctuation" style="color: #000000">[</span><span class="token punctuation" style="color: #000000">]</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">string</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> currentPage</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token operator" style="color: #000000">&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">all</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">payload</span><span class="token plain"></span></p>
<p><span class="token plain"> state</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">meta</span><span class="token plain"> </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">meta</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function" style="color: #e6d874">prepare</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">payload</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">Page</span><span class="token punctuation" style="color: #000000">[</span><span class="token punctuation" style="color: #000000">]</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> currentPage</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> payload</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> meta</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> currentPage </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span>#### <span id="fixing-circular-types-in-exported-slices" class="anchor enhancedAnchor_2LWZ"></span>Fixing Circular Types in Exported Slices<a href="#fixing-circular-types-in-exported-slices" class="hash-link" title="Direct link to heading">#</a></p>
<p>Finally, on rare occasions you might need to export the slice reducer with a specific type in order to break a circular type dependency problem. This might look like:</p>
<p><span class="token keyword" style="color: #f92672">export</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">default</span><span class="token plain"> counterSlice</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">reducer</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">as</span><span class="token plain"> </span><span class="token maybe-class-name">Reducer</span><span class="token operator" style="color: #000000">&lt;</span><span class="token maybe-class-name">Counter</span><span class="token operator" style="color: #000000">&gt;</span>### <span id="typing-createasyncthunk" class="anchor enhancedAnchor_2LWZ"></span>Typing <code>createAsyncThunk</code><a href="#typing-createasyncthunk" class="hash-link" title="Direct link to heading">#</a></p>
<p>For basic usage, the only type you need to provide for <code>createAsyncThunk</code> is the type of the single argument for your payload creation callback. You should also ensure that the return value of the callback is typed correctly:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> fetchUserById </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">createAsyncThunk</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘users/fetchById’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// Declare the type your function argument here:</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">async</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">userId</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> response </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">await</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">fetch</span><span class="token punctuation" style="color: #000000">(</span><span class="token template-string template-punctuation string" style="color: #a6e22e">`</span><span class="token template-string string" style="color: #a6e22e">https://reqres.in/api/users/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color: #000000">${</span><span class="token template-string interpolation">userId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color: #000000">}</span><span class="token template-string template-punctuation string" style="color: #a6e22e">`</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// Inferred return type: Promise&lt;MyData&gt;</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token keyword" style="color: #f92672">await</span><span class="token plain"> response</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">json</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">as</span><span class="token plain"> </span><span class="token maybe-class-name">MyData</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// the parameter of `fetchUserById` is automatically inferred to `number` here</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// and dispatching the resulting thunkAction will return a Promise of a correctly</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token comment" style="color: #c6cad2">// typed “fulfilled” or “rejected” action.</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> lastReturnedAction </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">await</span><span class="token plain"> store</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">dispatch</span><span class="token punctuation" style="color: #000000">(</span><span class="token function" style="color: #e6d874">fetchUserById</span><span class="token punctuation" style="color: #000000">(</span><span class="token number" style="color: #ae81ff">3</span><span class="token punctuation" style="color: #000000">)</span><span class="token punctuation" style="color: #000000">)</span>If you need to modify the types of the <code>thunkApi</code> parameter, such as supplying the type of the <code>state</code> returned by <code>getState()</code>, you must supply the first two generic arguments for return type and payload argument, plus whicher “thunkApi argument fields” are relevant in an object:</p>
<p><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> fetchUserById </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token generic-function function" style="color: #e6d874">createAsyncThunk</span><span class="token generic-function generic class-name operator" style="color: #000000">&lt;</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name comment" style="color: #c6cad2">// Return type of the payload creator</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name maybe-class-name">MyData</span><span class="token generic-function generic class-name punctuation" style="color: #000000">,</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name comment" style="color: #c6cad2">// First argument to the payload creator</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style="color: #a6e22e">number</span><span class="token generic-function generic class-name punctuation" style="color: #000000">,</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style="color: #000000">{</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name comment" style="color: #c6cad2">// Optional fields for defining thunkApi field types</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> dispatch</span><span class="token generic-function generic class-name operator" style="color: #000000">:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name maybe-class-name">AppDispatch</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> state</span><span class="token generic-function generic class-name operator" style="color: #000000">:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name maybe-class-name">State</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> extra</span><span class="token generic-function generic class-name operator" style="color: #000000">:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style="color: #000000">{</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> jwt</span><span class="token generic-function generic class-name operator" style="color: #000000">:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style="color: #a6e22e">string</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style="color: #000000">}</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style="color: #000000">}</span><span class="token generic-function generic class-name"></span></p>
<p><span class="token generic-function generic class-name"></span><span class="token generic-function generic class-name operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">(</span><span class="token string" style="color: #a6e22e">‘users/fetchById’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">async</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">userId</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> thunkApi</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> response </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">await</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">fetch</span><span class="token punctuation" style="color: #000000">(</span><span class="token template-string template-punctuation string" style="color: #a6e22e">`</span><span class="token template-string string" style="color: #a6e22e">https://reqres.in/api/users/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color: #000000">${</span><span class="token template-string interpolation">userId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color: #000000">}</span><span class="token template-string template-punctuation string" style="color: #a6e22e">`</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> headers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token maybe-class-name">Authorization</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color: #a6e22e">`</span><span class="token template-string string" style="color: #a6e22e">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color: #000000">${</span><span class="token template-string interpolation">thunkApi</span><span class="token template-string interpolation punctuation" style="color: #000000">.</span><span class="token template-string interpolation">extra</span><span class="token template-string interpolation punctuation" style="color: #000000">.</span><span class="token template-string interpolation">jwt</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color: #000000">}</span><span class="token template-string template-punctuation string" style="color: #a6e22e">`</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token keyword" style="color: #f92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token keyword" style="color: #f92672">await</span><span class="token plain"> response</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">json</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token keyword" style="color: #f92672">as</span><span class="token plain"> </span><span class="token maybe-class-name">MyData</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span>### <span id="typing-createentityadapter" class="anchor enhancedAnchor_2LWZ"></span>Typing <code>createEntityAdapter</code><a href="#typing-createentityadapter" class="hash-link" title="Direct link to heading">#</a></p>
<p>Typing <code>createEntityAdapter</code> only requires you to specify the entity type as the single generic argument. This typically looks like:</p>
<p><span class="token keyword" style="color: #f92672">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Book</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> bookId</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">number</span><span class="token plain"></span></p>
<p><span class="token plain"> title</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token builtin" style="color: #a6e22e">string</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// …</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> booksAdapter </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token generic-function function" style="color: #e6d874">createEntityAdapter</span><span class="token generic-function generic class-name operator" style="color: #000000">&lt;</span><span class="token generic-function generic class-name maybe-class-name">Book</span><span class="token generic-function generic class-name operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">selectId</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> book </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">bookId</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function-variable function" style="color: #e6d874">sortComparer</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">a</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> b</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token arrow operator" style="color: #000000">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">title</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">localeCompare</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">b</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">title</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"></span><span class="token keyword" style="color: #f92672">const</span><span class="token plain"> booksSlice </span><span class="token operator" style="color: #000000">=</span><span class="token plain"> </span><span class="token function" style="color: #e6d874">createSlice</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> name</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token string" style="color: #a6e22e">‘books’</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token comment" style="color: #c6cad2">// The type of the state is inferred here</span><span class="token plain"></span></p>
<p><span class="token plain"> initialState</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> booksAdapter</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">getInitialState</span><span class="token punctuation" style="color: #000000">(</span><span class="token punctuation" style="color: #000000">)</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> reducers</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> bookAdded</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> booksAdapter</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">addOne</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token function" style="color: #e6d874">booksReceived</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> action</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token operator" style="color: #000000">&lt;</span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"> books</span><span class="token operator" style="color: #000000">:</span><span class="token plain"> </span><span class="token maybe-class-name">Book</span><span class="token punctuation" style="color: #000000">[</span><span class="token punctuation" style="color: #000000">]</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token operator" style="color: #000000">&gt;</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"> </span><span class="token punctuation" style="color: #000000">{</span><span class="token plain"></span></p>
<p><span class="token plain"> booksAdapter</span><span class="token punctuation" style="color: #000000">.</span><span style="color: #e6d874">setAll</span><span class="token punctuation" style="color: #000000">(</span><span class="token plain">state</span><span class="token punctuation" style="color: #000000">,</span><span class="token plain"> action</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">payload</span><span class="token punctuation" style="color: #000000">.</span><span class="token property-access">books</span><span class="token punctuation" style="color: #000000">)</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"> </span><span class="token punctuation" style="color: #000000">}</span><span class="token plain"></span></p>
<p><span class="token plain"></span><span class="token punctuation" style="color: #000000">}</span><span class="token punctuation" style="color: #000000">)</span>## <span id="additional-recommendations" class="anchor enhancedAnchor_2LWZ"></span>Additional Recommendations<a href="#additional-recommendations" class="hash-link" title="Direct link to heading">#</a></p>
<h3 id="use-the-react-redux-hooks-api"><span id="use-the-react-redux-hooks-api" class="anchor enhancedAnchor_2LWZ"></span>Use the React Redux Hooks API<a href="#use-the-react-redux-hooks-api" class="hash-link" title="Direct link to heading">#</a></h3>
<p><strong>We recommend using the React Redux hooks API as the default approach</strong>. The hooks API is much simpler to use with TypeScript, as <code>useSelector</code> is a simple hook that takes a selector function, and the return type is easily inferred from the type of the <code>state</code> argument.</p>
<p>While <code>connect</code> still works fine, and <em>can</em> be typed, it’s much more difficult to type correctly.</p>
<h3 id="avoid-action-type-unions"><span id="avoid-action-type-unions" class="anchor enhancedAnchor_2LWZ"></span>Avoid Action Type Unions<a href="#avoid-action-type-unions" class="hash-link" title="Direct link to heading">#</a></h3>
<p><strong>We specifically recommend <em>against</em> trying to create unions of action types</strong>, as it provides no real benefit and actually misleads the compiler in some ways. See RTK maintainer Lenz Weber’s post <a href="../../phryneas.de/redux-typescript-no-discriminating-union.html">Do Not Create Union Types with Redux Action Types</a> for an explanation of why this is a problem.</p>
<p>In addition, if you’re using <code>createSlice</code>, you already know that all actions defined by that slice are being handled correctly.</p>
<h2 id="resources"><span id="resources" class="anchor enhancedAnchor_2LWZ"></span>Resources<a href="#resources" class="hash-link" title="Direct link to heading">#</a></h2>
<p>For further information, see these additional resources:</p>
<ul>
<li>Redux library documentation:
<ul>
<li><a href="../../react-redux.js.org/using-react-redux/usage-with-typescript.html">React Redux docs: Static Typing</a>: Examples of how to use the React Redux APIs with TypeScript</li>
<li><a href="../../redux-toolkit.js.org/usage/usage-with-typescript.html">Redux Toolkit docs: Usage with TypeScript</a>: Examples of how to use the Redux Toolkit APIs with TypeScript</li>
</ul></li>
<li>React + Redux + TypeScript guides:
<ul>
<li><a href="../../github.com/typescript-cheatsheets/react.html">React+TypeScript Cheatsheet</a>: a comprehensive guide to using React with TypeScript</li>
<li><a href="../../github.com/piotrwitek/react-redux-typescript-guide.html">React + Redux in TypeScript Guide</a>: extensive information on patterns for using React and Redux with TypeScript
<ul>
<li><em>Note: while this guide has some useful info, many of the patterns it shows go against our recommended practices shown in this page, such as using action type unions. We link this out of completeness</em></li>
</ul></li>
</ul></li>
<li>Other articles:
<ul>
<li><a href="../../phryneas.de/redux-typescript-no-discriminating-union.html">Do Not Create Union Types with Redux Action Types</a></li>
<li><a href="../../www.matthewgerstman.com/tech/redux-code-split-typecheck/index.html">Redux with Code-Splitting and Type Checking</a></li>
</ul></li>
</ul>
<p><a href="configuring-your-store.html" class="pagination-nav__link"></a></p>
<p>« Configuring Your Store</p>
<p><a href="migrating-to-redux.html" class="pagination-nav__link"></a></p>
<p>Next</p>
<p>Migrating to Redux »</p>
<ul>
<li><a href="#overview" class="table-of-contents__link">Overview</a></li>
<li><a href="#standard-redux-toolkit-project-setup-with-typescript" class="table-of-contents__link">Standard Redux Toolkit Project Setup with TypeScript</a>
<ul>
<li><a href="#define-root-state-and-dispatch-types" class="table-of-contents__link">Define Root State and Dispatch Types</a></li>
<li><a href="#define-typed-hooks" class="table-of-contents__link">Define Typed Hooks</a></li>
</ul></li>
<li><a href="#application-usage" class="table-of-contents__link">Application Usage</a>
<ul>
<li><a href="#define-slice-state-and-action-types" class="table-of-contents__link">Define Slice State and Action Types</a></li>
<li><a href="#use-typed-hooks-in-components" class="table-of-contents__link">Use Typed Hooks in Components</a></li>
</ul></li>
<li><a href="#typing-additional-redux-logic" class="table-of-contents__link">Typing Additional Redux Logic</a>
<ul>
<li><a href="#type-checking-reducers" class="table-of-contents__link">Type Checking Reducers</a></li>
<li><a href="#type-checking-middleware" class="table-of-contents__link">Type Checking Middleware</a></li>
<li><a href="#type-checking-redux-thunks" class="table-of-contents__link">Type Checking Redux Thunks</a></li>
</ul></li>
<li><a href="#usage-with-react-redux" class="table-of-contents__link">Usage with React Redux</a>
<ul>
<li><a href="#typing-the-useselector-hook" class="table-of-contents__link">Typing the <code class="language-js">useSelector</code> hook</a></li>
<li><a href="#typing-the-usedispatch-hook" class="table-of-contents__link">Typing the <code class="language-js">useDispatch</code> hook</a></li>
<li><a href="#typing-the-connect-higher-order-component" class="table-of-contents__link">Typing the <code class="language-js">connect</code> higher order component</a></li>
</ul></li>
<li><a href="#usage-with-redux-toolkit" class="table-of-contents__link">Usage with Redux Toolkit</a>
<ul>
<li><a href="#typing-configurestore" class="table-of-contents__link">Typing <code class="language-js">configureStore</code></a></li>
<li><a href="#matching-actions" class="table-of-contents__link">Matching Actions</a></li>
<li><a href="#typing-createslice" class="table-of-contents__link">Typing <code class="language-js">createSlice</code></a></li>
<li><a href="#typing-createasyncthunk" class="table-of-contents__link">Typing <code class="language-js">createAsyncThunk</code></a></li>
<li><a href="#typing-createentityadapter" class="table-of-contents__link">Typing <code class="language-js">createEntityAdapter</code></a></li>
</ul></li>
<li><a href="#additional-recommendations" class="table-of-contents__link">Additional Recommendations</a>
<ul>
<li><a href="#use-the-react-redux-hooks-api" class="table-of-contents__link">Use the React Redux Hooks API</a></li>
<li><a href="#avoid-action-type-unions" class="table-of-contents__link">Avoid Action Type Unions</a></li>
</ul></li>
<li><a href="#resources" class="table-of-contents__link">Resources</a></li>
</ul>
<h4 id="docs">Docs</h4>
<ul>
<li><a href="../introduction/getting-started.html" class="footer__link-item">Getting Started</a></li>
<li><a href="../tutorials/essentials/part-1-overview-concepts.html" class="footer__link-item">Tutorial</a></li>
<li><a href="../faq.html" class="footer__link-item">FAQ</a></li>
<li><a href="../api/api-reference.html" class="footer__link-item">API Reference</a></li>
</ul>
<h4 id="community">Community</h4>
<ul>
<li><a href="../../discord.com/invite/0ZcbPKXt5bZ6au5t.html" class="footer__link-item">Reactiflux Discord</a></li>
<li><a href="../../stackoverflow.com/questions/tagged/redux.html" class="footer__link-item">Stack Overflow</a></li>
<li><a href="../introduction/getting-started.html#help-and-discussion" class="footer__link-item">Feedback</a></li>
</ul>
<h4 id="more">More</h4>
<ul>
<li><a href="../../github.com/reduxjs/redux.html" class="footer__link-item">GitHub</a></li>
<li><a href="../../www.netlify.com/index.html"><img src="../../www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" /></a></li>
</ul>
<p><a href="../index.html" class="footerLogoLink_MyFc"><img src="../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo" /><img src="../../d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo" /></a></p>
</body>
</html>
